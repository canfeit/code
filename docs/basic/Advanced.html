<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>码四方——学好TypeScript/Rust/Kotlin/Python走四方</title><meta name="description" content="四格学编程，深入浅出未来编程四大天王：TypeScript/Rust/Kotlin/Python."/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/gqg8QJQuyvNbvj8Pmlslp/pages/basic/Advanced.js" as="script"/><link rel="preload" href="/_next/static/gqg8QJQuyvNbvj8Pmlslp/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-f5e50b6b501ccea2a79b.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.6f170b43965d90fa4d8a.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-313fb35df81e158a12cf.js" as="script"/><link rel="stylesheet" href="/_next/static/css/commons.7ad62fbb.chunk.css"/></head><body><div id="__next"><section class="ant-layout" style="background:#fff"><aside class="ant-layout-sider ant-layout-sider-dark" style="background:#fff;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"><ul class="ant-menu ant-menu-light ant-menu-root ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:24px"><a href="/">首页</a></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open ant-menu-submenu-selected" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="basic$Menu" aria-haspopup="true" title="基础">基础<i class="ant-menu-submenu-arrow"></i></div><ul id="basic$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/basic/types">基本类型</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/basic/Encoding">字符与编码</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/basic/object">对象类型</a></li><li class="ant-menu-item ant-menu-item-selected" role="menuitem" style="padding-left:48px"><a href="/basic/Advanced">类型杂谈</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/basic/variable">变量</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/basic/Interfaces">接口</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/basic/Classes">类</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/basic/Decorators">装饰器</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/basic/Functions">方法</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/basic/Generics">泛型</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/basic/Iterators">迭代</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:48px"><a href="/basic/Modules">模块</a></li></ul></li></ul></div></aside><main class="ant-layout-content"><div class="ant-card ant-card-bordered ant-card-contain-grid"><div class="ant-card-body"><div style="width:50%;height:400px" class="ant-card-grid"><span style="position:relative;top:-20px;left:-20px" class="ant-tag">TypeScript</span><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">//交叉类型，将多个类型合并为一个类型。 它包含了所有类型的特性，同时拥有了所有类型的成员。</span>
<span class="token" style="color:#07a">interface</span> <span class="token" style="color:#DD4A68">a</span> <span class="token" style="color:#999">{</span>a<span class="token" style="color:#999">:</span><span class="token" style="color:#690">string</span><span class="token" style="color:#999">;</span><span class="token" style="color:#999">}</span>
<span class="token" style="color:#07a">interface</span> <span class="token" style="color:#DD4A68">b</span> <span class="token" style="color:#999">{</span>b<span class="token" style="color:#999">:</span><span class="token" style="color:#690">string</span><span class="token" style="color:#999">;</span><span class="token" style="color:#999">}</span>
<span class="token" style="color:#07a">const</span> ab<span class="token" style="color:#999">:</span>a<span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span>b<span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span>a<span class="token" style="color:#999">:</span><span class="token" style="color:#690">&#x27;1&#x27;</span><span class="token" style="color:#999">,</span>b<span class="token" style="color:#999">:</span><span class="token" style="color:#690">&#x27;2&#x27;</span><span class="token" style="color:#999">}</span><span class="token" style="color:slategray">//使用交叉类型a&amp;b声明ab</span>
<span class="token" style="color:slategray">//联合类型表示一个值可以是几种类型之一。 用竖线（|）分隔每个类型</span>
<span class="token" style="color:#07a">function</span> <span class="token" style="color:#DD4A68">getSmallPet</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">:</span> <span class="token maybe-class-name">Fish</span> <span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">|</span> <span class="token maybe-class-name">Bird</span> <span class="token" style="color:#999">{</span><span class="token" style="color:#999">}</span><span class="token" style="color:slategray">//返回值可以是Fish或Bird类型。</span>
<span class="token" style="color:#07a">let</span> pet <span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span> <span class="token" style="color:#DD4A68">getSmallPet</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span class="token" style="color:slategray">//默认只能访问pet联合类型（Fish|Bird）里共有的成员</span>
<span class="token" style="color:slategray">//类型守卫</span>
<span class="token" style="color:#07a">function</span> <span class="token" style="color:#DD4A68">isFish</span><span class="token" style="color:#999">(</span><span class="token parameter">pet<span class="token" style="color:#999">:</span> <span class="token maybe-class-name">Fish</span> <span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">|</span> <span class="token maybe-class-name">Bird</span></span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">:</span> pet <span class="token" style="color:#07a">is</span> <span class="token maybe-class-name">Fish</span> <span class="token" style="color:#999">{</span><span class="token" style="color:slategray">//pet is Fish就是类型谓词。 谓词为param is Type这种形式，param必须为当前函数的参数</span>
    <span class="token" style="color:#07a">return</span> <span class="token" style="color:#999">(</span>pet <span class="token" style="color:#07a">as</span> <span class="token maybe-class-name">Fish</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token property-access">swim</span> <span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!==</span> undefined<span class="token" style="color:#999">;</span>
<span class="token" style="color:#999">}</span>
<span class="token" style="color:#07a">if</span> <span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">isFish</span><span class="token" style="color:#999">(</span>pet<span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span> pet<span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">swim</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span class="token" style="color:slategray">//TypeScript知道在if分支里pet是Fish类型，在else分支里是Bird类型</span>
<span class="token" style="color:#07a">else</span> pet<span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">fly</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span>
<span class="token" style="color:slategray">//typeof类型守卫，typeof v === &quot;typename&quot;和typeof v !== &quot;typename&quot;能被自动识别为类型守卫，&quot;typename&quot;必须是&quot;number&quot;，&quot;string&quot;，&quot;boolean&quot;或&quot;symbol&quot;。 </span>
<span class="token" style="color:#07a">if</span> <span class="token" style="color:#999">(</span><span class="token" style="color:#07a">typeof</span> padding <span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span> <span class="token" style="color:#690">&quot;number&quot;</span><span class="token" style="color:#999">)</span> <span class="token" style="color:#999">{</span><span class="token" style="color:#999">}</span>
<span class="token" style="color:slategray">//instanceof类型守卫</span>
<span class="token" style="color:#07a">if</span> <span class="token" style="color:#999">(</span>padder <span class="token" style="color:#07a">instanceof</span> <span class="token" style="color:#DD4A68">SpaceRepeatingPadder</span><span class="token" style="color:#999">)</span> <span class="token" style="color:#999">{</span><span class="token" style="color:#999">}</span>
<span class="token" style="color:slategray">//非空类型断言,!后缀</span>
<span class="token" style="color:#07a">function</span> <span class="token" style="color:#DD4A68">fixed</span><span class="token" style="color:#999">(</span><span class="token parameter">name<span class="token" style="color:#999">:</span> <span class="token" style="color:#690">string</span> <span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">|</span> <span class="token" style="color:#07a">null</span></span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">:</span> <span class="token" style="color:#690">string</span> <span class="token" style="color:#999">{</span> <span class="token" style="color:#07a">return</span> name<span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">charAt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">)</span> <span class="token" style="color:#999">}</span><span class="token" style="color:slategray">//声明此处name不是null或undefined（此处示例不当）</span>
<span class="token" style="color:slategray">//类型别名，给类型起个新名字，不会新建类型而是创建了一个新名字来引用那个类型</span>
<span class="token" style="color:#07a">type</span> <span class="token maybe-class-name">Tree</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#905">T</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span> <span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span> <span class="token" style="color:#999">{</span><span class="token" style="color:slategray">//使用类型别名在属性里引用自己</span>
    value<span class="token" style="color:#999">:</span> <span class="token" style="color:#905">T</span><span class="token" style="color:#999">;</span>
    left<span class="token" style="color:#999">:</span> <span class="token maybe-class-name">Tree</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#905">T</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">;</span>
    right<span class="token" style="color:#999">:</span> <span class="token maybe-class-name">Tree</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#905">T</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">;</span>
<span class="token" style="color:#999">}</span>
</code></pre></div><div style="width:50%;height:400px" class="ant-card-grid"><span style="position:relative;top:-20px;left:-20px" class="ant-tag">Rust</span>rs</div><div style="width:50%;height:400px" class="ant-card-grid"><span style="position:relative;top:-20px;left:-20px" class="ant-tag">Kotlin</span><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">//与python的None不同，Kotlin的null不是对象，只是一个关键字</span>
fun <span class="token" style="color:#DD4A68">test</span><span class="token" style="color:#999">(</span><span class="token parameter">a<span class="token" style="color:#999">:</span> <span class="token known-class-name" style="color:#DD4A68">String</span><span class="token" style="color:#999">,</span> b<span class="token" style="color:#999">:</span> <span class="token known-class-name" style="color:#DD4A68">String</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span></span><span class="token" style="color:#999">)</span> <span class="token" style="color:#999">{</span><span class="token" style="color:slategray">//?后缀声明变量可为空(默认不能为空)</span>
    <span class="token" style="color:slategray">// 此处不允许访问b的属性</span>
    <span class="token" style="color:#07a">if</span> <span class="token" style="color:#999">(</span>b <span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">==</span> <span class="token" style="color:#07a">null</span><span class="token" style="color:#999">)</span> <span class="token" style="color:#999">{</span>
        <span class="token" style="color:slategray">// 此处不允许访问b的属性</span>
    <span class="token" style="color:#999">}</span> <span class="token" style="color:#07a">else</span> <span class="token" style="color:#999">{</span>
        <span class="token" style="color:slategray">// 此处可以访问b的属性</span>
        <span class="token" style="color:#DD4A68">println</span><span class="token" style="color:#999">(</span>b<span class="token" style="color:#999">.</span><span class="token property-access">length</span><span class="token" style="color:#999">)</span>
    <span class="token" style="color:#999">}</span>
    <span class="token" style="color:#DD4A68">println</span><span class="token" style="color:#999">(</span>b<span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span class="token" style="color:#999">)</span><span class="token" style="color:slategray">//非空断言，声明b不为空。一旦为空会抛出运行时异常</span>
    <span class="token" style="color:#DD4A68">println</span><span class="token" style="color:#999">(</span>b<span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span class="token" style="color:#999">)</span><span class="token" style="color:slategray">//b为空输出null否则输出b.length，简化if判断</span>
    <span class="token" style="color:#DD4A68">println</span><span class="token" style="color:#999">(</span>a<span class="token" style="color:#999">.</span><span class="token property-access">length</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#999">:</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">)</span><span class="token" style="color:slategray">//等价于typescript的a.length||0</span>
<span class="token" style="color:#999">}</span>
        </code></pre></div><div style="width:50%;height:400px" class="ant-card-grid"><span style="position:relative;top:-20px;left:-20px" class="ant-tag">Python</span>py</div><div style="width:100%" class="ant-card-grid"><h1></h1>    </div></div></div></main></section></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/basic/Advanced","query":{},"buildId":"gqg8QJQuyvNbvj8Pmlslp","dynamicBuildId":false,"nextExport":true}</script><script async="" id="__NEXT_PAGE__/basic/Advanced" src="/_next/static/gqg8QJQuyvNbvj8Pmlslp/pages/basic/Advanced.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/gqg8QJQuyvNbvj8Pmlslp/pages/_app.js"></script><script src="/_next/static/runtime/webpack-f5e50b6b501ccea2a79b.js" async=""></script><script src="/_next/static/chunks/commons.6f170b43965d90fa4d8a.js" async=""></script><script src="/_next/static/runtime/main-313fb35df81e158a12cf.js" async=""></script></body></html>